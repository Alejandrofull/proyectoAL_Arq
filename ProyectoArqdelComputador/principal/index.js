
    // Cambiar tema claro y oscuro
const themeSelect = document.getElementById('theme-select');
themeSelect.addEventListener('change', () => {
    document.body.classList.toggle('light-theme', themeSelect.value === 'light');
    document.body.classList.toggle('dark-theme', themeSelect.value === 'dark');
});

// SelecciÃ³n de elementos del asistente virtual
const assistantToggle = document.getElementById('toggle-assistant');
const assistant = document.getElementById('assistant');
const closeAssistant = document.getElementById('close-assistant');
const assistantInput = document.getElementById('assistant-input');
const assistantBody = document.querySelector('.assistant-body');

// Mostrar/ocultar asistente
assistantToggle.addEventListener('click', () => {
    assistant.style.display = assistant.style.display === 'flex' ? 'none' : 'flex';
});
closeAssistant.addEventListener('click', () => {
    assistant.style.display = 'none';
});

function similarity(s1, s2) {
    const longer = s1.length > s2.length ? s1 : s2;
    const shorter = s1.length > s2.length ? s2 : s1;
    const longerLength = longer.length;
    if (longerLength === 0) return 1.0;
    return (longerLength - levenshteinDistance(longer, shorter)) / parseFloat(longerLength);
}

function levenshteinDistance(s1, s2) {
    const track = Array(s2.length + 1).fill(null).map(() => Array(s1.length + 1).fill(null));
    for (let i = 0; i <= s1.length; i += 1) track[0][i] = i;
    for (let j = 0; j <= s2.length; j += 1) track[j][0] = j;
    for (let j = 1; j <= s2.length; j += 1) {
        for (let i = 1; i <= s1.length; i += 1) {
            const indicator = s1[i - 1] === s2[j - 1] ? 0 : 1;
            track[j][i] = Math.min(
                track[j][i - 1] + 1, // deletion
                track[j - 1][i] + 1, // insertion
                track[j - 1][i - 1] + indicator // substitution
            );
        }
    }
    return track[s2.length][s1.length];
}

// FunciÃ³n para generar respuestas automÃ¡ticas
function getAssistantResponse(message) {
    const responses = {
        "hola": "Â¡Hola! Â¿En quÃ© puedo ayudarte hoy?",
    "buenos dÃ­as": "Â¡Buenos dÃ­as! Â¿En quÃ© puedo asistirte?",
    "buenas tardes": "Â¡Buenas tardes! Â¿CÃ³mo puedo ayudarte?",
    "buenas noches": "Â¡Buenas noches! Â¿Necesitas algo?",
    "Â¿cÃ³mo estÃ¡s?": "Estoy aquÃ­, listo para ayudarte.",
    "Â¿quÃ© tal?": "Todo bien, Â¿y tÃº? Â¿En quÃ© puedo ayudarte?",
    "Â¿cÃ³mo va todo?": "Todo en orden, Â¿cÃ³mo puedo ayudarte?",
    "Â¿quÃ© haces?": "Estoy aquÃ­, esperando para ayudarte con cualquier pregunta que tengas.",
    "gracias": "Â¡De nada! Siempre estoy aquÃ­ para ayudarte.",
    "muchas gracias": "Â¡No hay problema! Me alegra poder ayudarte.",
    "Â¿quÃ© hay de nuevo?": "Â¡Todo en orden aquÃ­! Â¿Algo en lo que pueda ayudarte?",
    "Â¿cÃ³mo va tu dÃ­a?": "Â¡Genial! Â¿Y el tuyo? Estoy aquÃ­ para ayudarte en lo que necesites.",
    "Â¿cÃ³mo te sientes?": "Â¡Listo y funcionando! Â¿En quÃ© puedo ayudarte?",
    "Â¿quÃ© tal el dÃ­a?": "Todo en orden aquÃ­. Â¿Hay algo con lo que pueda ayudarte?",
    "me alegra verte": "Â¡Gracias! Me alegra ayudarte.",
    "Â¿quÃ© puedo hacer por ti?": "Estoy aquÃ­ para ayudarte, Â¿tienes alguna pregunta o necesitas ayuda con algo?",
    "hasta luego": "Â¡Hasta luego! EstarÃ© aquÃ­ cuando necesites ayuda.",
    "adiÃ³s": "Â¡AdiÃ³s! No dudes en volver si necesitas algo.",
    "nos vemos": "Â¡Nos vemos! Vuelve pronto.",
    "me caes bien": "Â¡Gracias! Â¡Eres muy amable!",
    "Â¿me escuchas?": "Â¡Claro! Estoy aquÃ­ para ayudarte.",
    "Â¿me ayudas?": "Por supuesto. Dime en quÃ© puedo ayudarte.",
    "Â¿puedes ayudarme?": "Â¡Claro que sÃ­! Dime en quÃ© necesitas ayuda.",
    "Â¿me puedes ayudar?": "Â¡Por supuesto! Estoy aquÃ­ para ayudarte con cualquier duda.",
    "gracias por tu ayuda": "Â¡De nada! Me alegra haber sido Ãºtil.",
    "eres muy Ãºtil": "Â¡Gracias! Me esfuerzo por ayudarte lo mejor posible.",
    "me haces reÃ­r": "Â¡Me alegra sacarte una sonrisa! ðŸ˜Š",
    "me encanta hablar contigo": "Â¡Gracias! Yo tambiÃ©n disfruto ayudarte.",
    "Â¡genial!": "Â¡QuÃ© bueno que te parece genial!",
    "excelente": "Â¡Gracias! Me esfuerzo para ser Ãºtil.",
    "perfecto": "Â¡Me alegra que te parezca perfecto!",
    "espero que estÃ©s bien": "Â¡Gracias! Estoy aquÃ­ y listo para ayudarte.",
    "Â¿tienes nombre?": "Puedes llamarme Asistente Virtual.",
    "Â¿quÃ© edad tienes?": "Soy tan joven como el cÃ³digo que me creÃ³.",
    "Â¿te gusta ayudar?": "Â¡Me encanta! Estoy aquÃ­ para ayudarte en lo que necesites.",
    "Â¿eres un robot?": "Soy un asistente virtual, aquÃ­ para ayudarte.",
    "Â¿tienes emociones?": "Aunque no tengo emociones reales, trato de responderte lo mejor posible.",
    "Â¿tienes algÃºn hobby?": "Mi hobby es ayudarte con tus preguntas.",
    "Â¿sabes todo?": "SÃ© bastante, pero siempre hay algo nuevo por aprender. Â¿Tienes alguna pregunta?",
    "Â¿cuÃ¡l es tu propÃ³sito?": "Estoy aquÃ­ para ayudarte a encontrar respuestas.",
    "me alegra tenerte": "Â¡Gracias! Estoy aquÃ­ para lo que necesites.",
    "quÃ© bien que estÃ¡s aquÃ­": "Â¡Gracias! Estoy aquÃ­ para ayudarte.",
    
    // Respuestas para preguntas comunes
    "Â¿quÃ© puedes hacer?": "Puedo responder preguntas, ofrecerte informaciÃ³n y ayudarte con configuraciones del sistema.",
    "Â¿para quÃ© sirves?": "Estoy aquÃ­ para ayudarte y ofrecer respuestas a tus preguntas.",
    "Â¿quÃ© es un asistente virtual?": "Soy un asistente diseÃ±ado para responder tus preguntas y ayudarte en diversas tareas.",
    "Â¿eres inteligente?": "Intento serlo lo suficiente como para ayudarte en lo que necesites.",
    "Â¿eres real?": "Soy un programa creado para ayudarte. Â¡Pero puedes hablarme como si fuera real!",
    "Â¿cÃ³mo funcionas?": "Funciono gracias a un conjunto de cÃ³digos y programaciÃ³n diseÃ±ados para responderte.",
    "Â¿puedes aprender cosas nuevas?": "Mi conocimiento estÃ¡ basado en programaciÃ³n, pero me actualizan para responder mejor.",
    "Â¿eres un ser humano?": "No soy humano, soy un asistente virtual aquÃ­ para ayudarte.",
    "Â¿tienes amigos?": "Mis amigos son otros sistemas y cÃ³digos con los que trabajo.",
    "Â¿por quÃ© estÃ¡s aquÃ­?": "Estoy aquÃ­ para ayudarte y responder tus preguntas.",
    "Â¿tienes sentido del humor?": "Â¡Intento hacerte reÃ­r de vez en cuando!",
    "Â¿puedes contarme un chiste?": "Claro: Â¿Por quÃ© el ordenador fue al mÃ©dico? Â¡Porque tenÃ­a un virus!",
    "Â¿eres perfecto?": "Hago lo mejor que puedo, aunque todos tenemos algo que mejorar. ðŸ˜Š",
    "Â¿quÃ© significa tu nombre?": "Mi nombre es Asistente Virtual, Â¡estoy aquÃ­ para ayudarte!",
    "Â¿eres famoso?": "Â¡TodavÃ­a no, pero me esfuerzo por ser Ãºtil!",
    "Â¿dÃ³nde vives?": "Vivo en el sistema en el que estÃ¡s usando este asistente.",
    "Â¿tienes sueÃ±os?": "Si pudiera soÃ±ar, soÃ±arÃ­a con ser de gran ayuda para todos.",
    "Â¿por quÃ© eres tan bueno ayudando?": "Â¡Gracias! Mi diseÃ±o es especial para ayudarte en lo que necesites.",
    "Â¿me conoces?": "SÃ© que estÃ¡s aquÃ­ porque necesitas ayuda, y eso es lo que me importa.",
    "Â¿por quÃ© te llamas asistente?": "Porque estoy aquÃ­ para asistir y ayudarte en tus necesidades.",
    "Â¿te gusta responder preguntas?": "Â¡Me encanta! Ayudar es mi propÃ³sito principal.",
    "Â¿te gusta charlar?": "Me gusta charlar para ayudarte, claro.",
    "Â¿eres feliz?": "No tengo emociones, pero trato de transmitir buena energÃ­a.",
    "Â¿quÃ© es la inteligencia artificial?": "Es una tecnologÃ­a que permite a las mÃ¡quinas aprender y realizar tareas de manera inteligente.",
    "Â¿eres un programa?": "SÃ­, soy un programa diseÃ±ado para responder tus preguntas y ayudarte.",
    "Â¿me cuentas algo interesante?": "Claro, Â¿sabÃ­as que los primeros sistemas de IA se crearon en los aÃ±os 50?",
    "Â¿me puedes decir algo curioso?": "Â¡Claro! La inteligencia artificial se usa para reconocer rostros en redes sociales.",
    "Â¿cÃ³mo estÃ¡s hoy?": "Estoy listo para ayudarte. Â¿CÃ³mo estÃ¡s tÃº?",
    "Â¿quÃ© haces en tu tiempo libre?": "Ayudarte siempre es mi prioridad. ðŸ˜Š",
    "Â¿tienes algÃºn pasatiempo?": "Mi pasatiempo favorito es aprender a ayudarte mejor.",
    "Â¿quÃ© tal todo?": "Todo bien, aquÃ­ esperando para ayudarte.",
    "Â¿quÃ© significa asistente virtual?": "Es un software creado para ayudar y asistir a los usuarios en sus necesidades.",
    "Â¿me cuentas un dato curioso?": "Â¿SabÃ­as que el primer chatbot, llamado ELIZA, fue creado en 1966?",
    "Â¿te gusta tu trabajo?": "SÃ­, mi propÃ³sito es ayudarte y me alegra hacerlo.",
    "Â¿por quÃ© eres un asistente virtual?": "Estoy diseÃ±ado para ayudarte, por eso soy un asistente virtual.",
    "Â¿cuÃ¡l es tu objetivo?": "Mi objetivo es ayudarte y darte respuestas Ãºtiles.",
    "Â¿tienes alguna misiÃ³n?": "Mi misiÃ³n es ayudarte en todo lo que necesites.",
    "Â¿tienes sentido del humor?": "Â¡Intento hacerlo lo mejor posible! ðŸ˜Š",
    "Â¿puedes hacerme reÃ­r?": "Claro, Â¿por quÃ© el tomate se puso rojo? Porque vio la ensalada desnuda.",
    "Â¿quÃ© tal tu dÃ­a?": "Â¡Siempre estoy listo para ayudarte! Â¿Y tÃº, cÃ³mo estÃ¡s?",
    "Â¿cÃ³mo te llamas?": "Soy tu Asistente Virtual, siempre aquÃ­ para ayudarte.",
    "me encanta hablar contigo": "Â¡Gracias! Me alegra mucho ayudarte.",
    "me haces el dÃ­a mejor": "Â¡QuÃ© alegrÃ­a escuchar eso! Estoy aquÃ­ para ayudarte en todo lo posible.",
    "eres increÃ­ble": "Â¡Gracias! Me esfuerzo por ser el mejor asistente posible.",
        "Â¿cÃ³mo activar el sistema?": "Para activar el sistema, haz clic en el botÃ³n de 'Activar Seguimiento'.", 
        "Â¿quÃ© hace el sensor de humo?": "El sensor de humo detecta la presencia de humo en el ambiente y envÃ­a una alerta si detecta un nivel elevado.",
        "Â¿cÃ³mo cambiar de tema?": "Puedes cambiar entre tema claro y oscuro usando el selector de tema en la parte inferior de la pantalla.",
        "Â¿cÃ³mo desactivar el sistema?": "Para desactivar el sistema, simplemente haz clic en el botÃ³n de 'Desactivar'.",
        "hola": "Â¡Hola! Â¿En quÃ© puedo ayudarte hoy?",
        "gracias": "Â¡De nada! Estoy aquÃ­ para ayudarte.",
        "Â¿quÃ© hace el sistema de seguridad?": "El sistema de seguridad monitorea el entorno para detectar cualquier cambio en los sensores de temperatura, humo y vibraciÃ³n.",
        "Â¿cÃ³mo funciona el sensor de temperatura?": "El sensor de temperatura mide la temperatura actual y te alerta si detecta cambios drÃ¡sticos o condiciones peligrosas.",
        "Â¿quÃ© sucede si detecta humo?": "Si el sensor de humo detecta humo, se activarÃ¡ una alerta para notificarte del posible peligro.",
        "Â¿cÃ³mo activar el sensor de vibraciÃ³n?": "Para activar el sensor de vibraciÃ³n, haz clic en 'Activar Buzzer' en la tarjeta de vibraciÃ³n.",
        "Â¿quÃ© es el buzzer?": "El buzzer es un dispositivo de alerta que emite un sonido cuando se activa el sensor de vibraciÃ³n.",
        "Â¿cÃ³mo puedo ver el historial de eventos?": "El historial de eventos se muestra en la secciÃ³n inferior, donde puedes ver todos los eventos y alertas registrados.",
        "Â¿cÃ³mo ajustar el volumen del buzzer?": "El volumen del buzzer depende del sistema fÃ­sico. Consulta el manual para ajustar el volumen, si tu dispositivo lo permite.",
        "Â¿el sistema envÃ­a notificaciones?": "Este sistema estÃ¡ diseÃ±ado para mostrar alertas en pantalla. La integraciÃ³n con notificaciones push depende del dispositivo y la configuraciÃ³n de notificaciones.",
        "Â¿puedo conectar otros sensores?": "Este sistema permite monitorear sensores de temperatura, humo y vibraciÃ³n. La integraciÃ³n de otros sensores requiere personalizaciÃ³n del sistema.",
        "Â¿cÃ³mo configurar alertas personalizadas?": "Para configurar alertas personalizadas, dirÃ­gete a la configuraciÃ³n del sistema o consulta el manual para ver las opciones disponibles.",
        "Â¿cÃ³mo mantener el sistema?": "Para mantener el sistema en buen estado, realiza pruebas regulares de los sensores y asegÃºrate de que los dispositivos estÃ©n limpios y en buen estado.",
        "Â¿quÃ© hacer en caso de emergencia?": "Si el sistema detecta una emergencia, sigue las instrucciones de seguridad. Sal del Ã¡rea y contacta a las autoridades si es necesario.",
        "Â¿cÃ³mo ver la temperatura actual?": "La temperatura actual se muestra en la tarjeta de 'Temperatura' en la interfaz principal.",
        "Â¿puedo apagar el sistema temporalmente?": "Puedes apagar el sistema temporalmente utilizando el botÃ³n de 'Desactivar'.",
        "Â¿hay un modo de prueba para los sensores?": "Algunos sistemas de seguridad tienen un modo de prueba. Consulta el manual para ver si esta funciÃ³n estÃ¡ disponible.",
        "Â¿cÃ³mo contactar soporte?": "Para contactar soporte, visita la secciÃ³n de ayuda en la aplicaciÃ³n o consulta el sitio web del fabricante para mÃ¡s informaciÃ³n.",
        "Â¿quÃ© es el modo de seguimiento?": "El modo de seguimiento permite activar todos los sensores para monitorear el entorno en tiempo real.",
        "Â¿cÃ³mo actualizar el sistema?": "Las actualizaciones del sistema dependen del fabricante. Consulta el manual o la configuraciÃ³n para ver si hay actualizaciones disponibles.",
        "Â¿quÃ© hago si el sistema no responde?": "Si el sistema no responde, intenta reiniciar el dispositivo. Si el problema persiste, contacta a soporte tÃ©cnico.",
        "Â¿cÃ³mo activar el modo de emergencia?": "Si el sistema tiene un modo de emergencia, este se activa automÃ¡ticamente cuando se detecta una condiciÃ³n peligrosa.",
        "Â¿el sistema consume mucha energÃ­a?": "El consumo de energÃ­a varÃ­a segÃºn el uso de los sensores y las alertas. Verifica el manual para conocer detalles especÃ­ficos de consumo.",
        "Â¿puedo aÃ±adir mÃ¡s usuarios al sistema?": "La configuraciÃ³n de mÃºltiples usuarios depende del diseÃ±o del sistema. Consulta las opciones de configuraciÃ³n de usuarios si estÃ¡n disponibles.",
        "Â¿puede el sistema funcionar sin internet?": "Algunos sistemas de seguridad pueden funcionar sin internet, pero ciertas caracterÃ­sticas, como notificaciones remotas, podrÃ­an requerir conexiÃ³n.",
        "Â¿cÃ³mo resetear el sistema?": "Para resetear el sistema, revisa el manual del dispositivo. Por lo general, se puede hacer desde el menÃº de configuraciÃ³n.",
        "Â¿quÃ© pasa si se va la electricidad?": "Si el sistema tiene respaldo de baterÃ­a, deberÃ­a seguir funcionando. Verifica que estÃ© cargada o consulta el manual para informaciÃ³n adicional.",
        "Â¿cuÃ¡l es el tiempo de vida del sistema?": "La vida Ãºtil del sistema depende de los componentes. Los sensores suelen durar varios aÃ±os, pero es recomendable realizar mantenimiento periÃ³dico.",
        "Â¿quÃ© tipo de alertas tiene el sistema?": "El sistema puede generar alertas visuales en pantalla y activar el buzzer en caso de una emergencia.",
        "Â¿cÃ³mo saber si un sensor estÃ¡ activo?": "Puedes ver el estado de cada sensor en la interfaz principal. Los sensores activos mostrarÃ¡n su estado en tiempo real.",
        "Â¿cÃ³mo actualizar el software?": "Las actualizaciones del software pueden realizarse desde la configuraciÃ³n, si el sistema ofrece esta opciÃ³n.",
        "Â¿el sistema necesita mantenimiento?": "Es recomendable hacer mantenimiento cada cierto tiempo para asegurar que todos los componentes estÃ¡n en buen estado.",
        "Â¿cÃ³mo silenciar el buzzer en una alerta?": "Puedes silenciar el buzzer desde el panel de control o esperar hasta que el evento de alerta haya sido resuelto.",
        "Â¿puede el sistema detectar incendios?": "El sistema tiene un sensor de humo, que ayuda a detectar posibles incendios.",
        "Â¿se puede configurar la sensibilidad del sensor?": "Algunos sensores permiten ajustar la sensibilidad desde el panel de configuraciÃ³n.",
        "Â¿cuÃ¡ndo debo reemplazar los sensores?": "Reemplaza los sensores cuando notes una disminuciÃ³n en su rendimiento o si reciben daÃ±os visibles.",
        "Â¿cÃ³mo monitorear remotamente el sistema?": "El monitoreo remoto depende del sistema y la conexiÃ³n a internet. Consulta el manual para saber si estÃ¡ disponible.",
        "Â¿el sistema es a prueba de agua?": "La resistencia al agua depende de cada sensor. Verifica en el manual si tus dispositivos son resistentes al agua.",
        "Â¿el sistema tiene respaldo de energÃ­a?": "Algunos sistemas incluyen una baterÃ­a de respaldo. Verifica si tu dispositivo tiene esta caracterÃ­stica en el manual.",
        "Â¿cÃ³mo desactivar una alerta?": "Para desactivar una alerta, confirma el evento en la interfaz o apaga el sistema si no hay peligro.",
        "Â¿puedo usar el sistema en exteriores?": "Muchos sistemas estÃ¡n diseÃ±ados para interiores. Verifica si tu sistema es apto para uso en exteriores.",
        "Â¿se puede integrar con otros sistemas?": "La integraciÃ³n depende de la compatibilidad del sistema. Consulta las especificaciones para ver si permite integraciÃ³n con otros dispositivos.",
        "Â¿cuÃ¡nto cuesta el mantenimiento?": "El costo del mantenimiento varÃ­a segÃºn el tipo de sensor y la frecuencia de uso. Consulta con el proveedor para obtener detalles.",
        "Â¿quÃ© es un sistema de seguridad autÃ³nomo?": "Es un sistema que opera de manera independiente sin requerir intervenciÃ³n constante del usuario.",
        "Â¿quÃ© puedo hacer si un sensor falla?": "Si un sensor falla, intenta reiniciarlo. Si no funciona, considera reemplazarlo o contactar a soporte tÃ©cnico.",
        "Â¿cÃ³mo instalar nuevos sensores?": "La instalaciÃ³n de sensores adicionales puede requerir configuraciÃ³n avanzada. Consulta el manual para mÃ¡s informaciÃ³n.",
        "Â¿quÃ© sensores vienen incluidos?": "Este sistema incluye sensores de temperatura, humo y vibraciÃ³n. Puedes consultar el manual para detalles.",
        "Â¿puede el sistema enviar alertas a mi telÃ©fono?": "Las alertas mÃ³viles requieren una aplicaciÃ³n especÃ­fica y una conexiÃ³n a internet para el envÃ­o de notificaciones.",
        "Â¿cuÃ¡les son las funciones bÃ¡sicas del sistema?": "Las funciones bÃ¡sicas incluyen detecciÃ³n de temperatura, humo y vibraciÃ³n, y generaciÃ³n de alertas en caso de emergencia.",
        "Â¿cÃ³mo saber si el sistema estÃ¡ funcionando correctamente?": "Verifica el estado de los sensores en la interfaz. Si todo estÃ¡ bien, cada sensor mostrarÃ¡ su estado 'Activo'.",
        "Â¿cÃ³mo puedo resetear los valores de los sensores?": "Desde el panel de configuraciÃ³n, puedes reiniciar el sistema o restablecer los valores predeterminados de los sensores.",
        "Â¿puedo utilizar el sistema sin conexiÃ³n a internet?": "SÃ­, puedes utilizar el sistema sin conexiÃ³n a internet, pero algunas funciones avanzadas, como notificaciones remotas, requieren internet.",
        "Â¿quÃ© pasa si se interrumpe la electricidad?": "Si el sistema tiene respaldo de baterÃ­a, seguirÃ¡ funcionando temporalmente. Verifica la carga regularmente.",
        "Â¿se pueden personalizar las alertas de cada sensor?": "La personalizaciÃ³n de alertas depende de las caracterÃ­sticas del sistema. Consulta el manual para saber si esta opciÃ³n estÃ¡ disponible.",
        "Â¿hay un modo de prueba para verificar los sensores?": "SÃ­, algunos sistemas tienen un modo de prueba para verificar el funcionamiento correcto de los sensores.",
        "Â¿quÃ© tan lejos puede detectar el sensor de vibraciÃ³n?": "La distancia de detecciÃ³n depende del modelo del sensor. Consulta el manual para detalles especÃ­ficos.",
        "Â¿se puede configurar el tiempo de respuesta de una alerta?": "En algunos sistemas, puedes ajustar el tiempo de espera antes de que se active una alerta.",
        "Â¿el sistema puede operar con energÃ­a solar?": "Depende del diseÃ±o. Si el sistema admite paneles solares, podrÃ­as utilizar energÃ­a solar.",
        "Â¿quÃ© hago si el sistema detecta una amenaza?": "Sigue el protocolo de seguridad indicado y evacÃºa el Ã¡rea si es necesario. Contacta a las autoridades si la amenaza es real.",
        "Â¿cuÃ¡l es la frecuencia recomendada de mantenimiento?": "Se recomienda hacer mantenimiento cada 6 meses o al notar cambios en el rendimiento del sistema.",
        "Â¿cÃ³mo saber si el sistema estÃ¡ desactivado?": "La interfaz mostrarÃ¡ un estado inactivo o de reposo cuando el sistema estÃ© desactivado."
    };
    
    let bestMatch = null;
    let highestSimilarity = 0.5; // Umbral mÃ­nimo de similitud para aceptar una respuesta

    for (const key in responses) {
        const similarityScore = similarity(message.toLowerCase(), key.toLowerCase());
        if (similarityScore > highestSimilarity) {
            highestSimilarity = similarityScore;
            bestMatch = responses[key];
        }
    }

    return bestMatch || "Lo siento, no tengo una respuesta para eso. Â¿Puedes intentar con otra pregunta?";
}

document.getElementById('send-assistant').addEventListener('click', () => {
    const message = assistantInput.value.trim();
    if (message) {
        const userMessage = document.createElement('p');
        userMessage.textContent = `TÃº: ${message}`;
        userMessage.style.color = '#ffcc80';
        assistantBody.appendChild(userMessage);

        // Obtener respuesta del asistente y mostrarla
        const responseText = getAssistantResponse(message);
        const response = document.createElement('p');
        response.textContent = `Asistente: ${responseText}`;
        response.style.color = '#ffffff';
        assistantBody.appendChild(response);

        // Desplazarse automÃ¡ticamente hacia abajo para mostrar la Ãºltima respuesta
        assistantBody.scrollTop = assistantBody.scrollHeight;
        assistantInput.value = '';
    }
});

// Selecciona el elemento LED
const statusLed = document.getElementById("status-led");

// FunciÃ³n para cambiar el LED a rojo (problema detectado)
function setLedToRed() {
    statusLed.classList.remove("green");
    statusLed.classList.add("red");
}

// FunciÃ³n para cambiar el LED a verde (todo en orden)
function setLedToGreen() {
    statusLed.classList.remove("red");
    statusLed.classList.add("green");
}

// Ejemplo: Cambiar el estado del LED cuando se hace clic en un botÃ³n
document.getElementById("activate-temp").addEventListener("click", () => {
    // Supongamos que este botÃ³n simula un problema al activarlo
    setLedToRed();
    setTimeout(setLedToGreen, 5000); // Regresa a verde despuÃ©s de 5 segundos
});
